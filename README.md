# PEOPLE_IN_EIGHT 8ï¸âƒ£
<aside>

## ğŸ‘¨ğŸ»â€ğŸ’» í”„ë¡œì íŠ¸ ê°œìš”
í˜„ëŒ€ ê¸ˆìœµì‹œì¥ì€ **ë³µì¡ì„±ê³¼ ë³€ë™ì„±ì´ ì ì  ì¦ê°€**í•˜ê³  ìˆìœ¼ë©°, ê°œì¸ íˆ¬ììë“¤ì€ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì˜ì‚¬ê²°ì •ì—ì„œ ì–´ë ¤ì›€ì„ ê²ªê³  ìˆìŠµë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” **ì‹¤ì‹œê°„**ìœ¼ë¡œ ê²½ì œ **ë‰´ìŠ¤ë¥¼ ë¶„ì„**í•˜ì—¬ í•µì‹¬ í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•˜ê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ **ì£¼ì‹, ì±„ê¶Œ, ê¸ˆ, ì›ìì¬ ë“± ë‹¤ì–‘í•œ ETF(ìƒì¥ì§€ìˆ˜í€ë“œ)ì˜ ë™í–¥ì„ íŒŒì•…**í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë§ì¶¤í˜• íˆ¬ì ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

## ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ íŒ€ì› ì†Œê°œ
| <img src="https://github.com/wns5120.png" width="200px"> | <img src="https://github.com/JaeHee-devSpace.png" width="200px"> | <img src="https://github.com/andytjdqls.png" width="200px"> | <img src="https://github.com/wild-turkey.png" width="200px"> |
| :---: | :---: | :---: | :---: |
| [ìœ í˜¸ì¤€](https://github.com/wns5120) | [ë°•ì¬í¬](https://github.com/JaeHee-devSpace) | [ì´ì„±ë¹ˆ](https://github.com/andytjdqls) | [ê¹€ì§€í›ˆ](https://github.com/wild-turkey) |

## ğŸ“š ê¸°ìˆ  ìŠ¤íƒ

### 1. **í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ë° ë°ì´í„° ì²˜ë¦¬**
![Python](https://img.shields.io/badge/Python-3776AB?style=flat&logo=python&logoColor=white) ![Pandas](https://img.shields.io/badge/Pandas-150458?style=flat&logo=pandas&logoColor=white) ![BeautifulSoup](https://img.shields.io/badge/BeautifulSoup-FFD700?style=flat&logo=python&logoColor=black) ![Requests](https://img.shields.io/badge/Requests-00599C?style=flat&logo=python&logoColor=white)

### 2. **í†µí•© ê°œë°œ í™˜ê²½ (IDE)**
![Visual Studio Code](https://img.shields.io/badge/VSCode-007ACC?style=flat&logo=visualstudiocode&logoColor=white) ![Google Colab](https://img.shields.io/badge/Google%20Colab-F9AB00?style=flat&logo=googlecolab&logoColor=black)

### 3. **ELK ìŠ¤íƒ ë° ë°ì´í„° íŒŒì´í”„ë¼ì¸**
![FileBeat](https://img.shields.io/badge/FileBeat-0077C8?style=flat&logo=elastic&logoColor=white) ![Logstash](https://img.shields.io/badge/Logstash-005571?style=flat&logo=elastic&logoColor=white) ![Elasticsearch](https://img.shields.io/badge/Elasticsearch-005571?style=flat&logo=elastic&logoColor=white) ![Kibana](https://img.shields.io/badge/Kibana-005571?style=flat&logo=elastic&logoColor=white)

### 4. **ê°€ìƒí™” ë° OS ê´€ë¦¬**
![Linux](https://img.shields.io/badge/Linux-FCC624?style=flat&logo=linux&logoColor=black) ![VirtualBox](https://img.shields.io/badge/VirtualBox-183A61?style=flat&logo=virtualbox&logoColor=white) ![MobaXterm](https://img.shields.io/badge/MobaXterm-008FBA?style=flat&logoColor=white)

### 5. **ë°ì´í„°ë² ì´ìŠ¤ ë° ì¿¼ë¦¬ ë„êµ¬**
![MySQL](https://img.shields.io/badge/MySQL-4479A1?style=flat&logo=mysql&logoColor=white) ![DBeaver](https://img.shields.io/badge/DBeaver-1C2834?style=flat&logoColor=white)

### 6. **êµ¬ì¡°ë„ ì‘ì„± ë„êµ¬**
![Markdown](https://img.shields.io/badge/Markdown-000000?style=flat&logo=markdown&logoColor=white) ![Mermaid](https://img.shields.io/badge/Mermaid-4995DA?style=flat&logo=mermaid&logoColor=white)

### 7. **ë°ì´í„° í™œìš© ë„êµ¬**
![ChatGPT](https://img.shields.io/badge/ChatGPT-412991?style=flat&logo=openai&logoColor=white)


## ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ
**1. ë‰´ìŠ¤ ì •ë³´ ê¸°ë°˜ ë°ì´í„°ë¡œ ì‚¬ìš©ìì—ê²Œ ë§ì¶¤í˜• ETF ì¶”ì²œ**
       
**2. ê²½ì œ ë™í–¥ íŒŒì•…ì„ ìœ„í•œ ì‹œê°í™” ìë£Œ ì œê³µ**

       

## ğŸ’¡ ê¸°ìˆ ì  ëª©í‘œ 
**1. ElasticSearchì— csvë°ì´í„°ë¥¼ ì—…ë¡œë“œ**
 
**2. 2ê°œì˜ Logstashë¥¼ í™œìš©í•œ pipeline êµ¬ì¶•**
     
**3. ElasticSearchì— ì—…ë¡œë“œ ëœ ë°ì´í„°ë¥¼ mySQLë¡œ ì´ê´€**

## âš™ í•µì‹¬ ê¸°ëŠ¥

1. **ê²½ì œ ë‰´ìŠ¤ ë°ì´í„° í¬ë¡¤ë§ ë° í‚¤ì›Œë“œ ë¶„ì„**:
    - ì£¼ìš” ê²½ì œ ê´€ë ¨ í‚¤ì›Œë“œ(ì˜ˆ: ì •ì¹˜, ì „ìŸ, ê¸ˆë¦¬, ì¸í”Œë ˆì´ì…˜ ë“±)ë¥¼ ìë™ìœ¼ë¡œ ì‹ë³„.
    - ë‰´ìŠ¤ ì¹´í…Œê³ ë¦¬(ì •ì¹˜, ê²½ì œ, ì‚°ì—… ë“±)ì™€ ê´€ë ¨ ETFì˜ ì—°ê´€ì„± ë§¤í•‘.
2. **ETF ë™í–¥ ë¶„ì„**:
    - ì£¼ì‹, ì±„ê¶Œ(ì¥ê¸°/ë‹¨ê¸°), ê¸ˆ, ì›ìì¬ ETFì˜ ì‹¤ì‹œê°„ ë³€ë™ ë° ìˆ˜ê¸‰ ë¶„ì„.
    - íŠ¹ì • ë‰´ìŠ¤ í‚¤ì›Œë“œê°€ ETF ë™í–¥ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ê°€ì‹œí™”.
3. **ë§ì¶¤í˜• íˆ¬ì ì¶”ì²œ**:
    - ì‚¬ìš©ì ê´€ì‹¬ì‚¬(ì˜ˆ: íŠ¹ì • ìì‚°êµ°, ë¦¬ìŠ¤í¬ ì„±í–¥ ë“±)ì— ë”°ë¼ ETF ì¶”ì²œ.
    - ê²½ì œ ë™í–¥ì„ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆëŠ” ì¸í„°ë™í‹°ë¸Œ ëŒ€ì‹œë³´ë“œ ì œê³µ.       
            

## ğŸ“ System Architecture
 ì´ ì‹œìŠ¤í…œì€ **ETF ì¢…ëª©ë³„ ë³€ë™ì„±ì„ ë¶„ì„í•˜ê³  ì‹¤ì‹œê°„ìœ¼ë¡œ ì œê³µí•˜ê¸° ìœ„í•´ ì„¤ê³„**ë˜ì—ˆìŠµë‹ˆë‹¤. FilebeatëŠ” ë°ì´í„° ë³€ë™ ì‚¬í•­ì„ ê°ì§€í•˜ê³  LogstashëŠ” ìë™ ìŠ¤ì¼€ì¤„ë§ì„ í†µí•´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ì—¬ Elasticsearchì— ì €ì¥í•©ë‹ˆë‹¤. **Elasticsearch**ëŠ” ë¹„ì •í˜• ê¸°ì‚¬ ë°ì´í„°ë¥¼ ì¸ë±ì‹± ë° ì§‘ê³„í•˜ì—¬ ë¹ ë¥´ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” **ë©”ì¸ ì €ì¥ì†Œ** ì—­í• ì„ í•˜ë©°, ë³€ë™ì„±ì´ í° ì¢…ëª©ì„ ë¶„ì„í•˜ì—¬ ì¼ìë³„ë¡œ **ì •ë¦¬ëœ ë°ì´í„°ë¥¼ MySQLì— ì €ì¥**í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ êµ¬ì¡°ëŠ” ëŒ€ëŸ‰ì˜ ê¸°ì‚¬ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³ , í•„ìš”í•œ ì •ë³´ë§Œ ì œê³µí•˜ëŠ” ë° ì í•©í•˜ë©° ì‹¤ì‹œê°„ ë°ì´í„° ë¶„ì„ ë° ì €ì¥ì„ íš¨ê³¼ì ìœ¼ë¡œ ì§€ì›í•©ë‹ˆë‹¤.
    
   ![window_TD](https://github.com/user-attachments/assets/aebbf289-e6f6-408c-9bd2-ebd9d2d7d774)

    

    
    ### mermaid code

    
    flowchart
        
        subgraph Linux["Linux"]
            F2["MySQL"]
        end
    
        subgraph Window["Window"]
            B["Data Generation CSV"]
            A["Naver News Crawling"]
            C["FileBeat"]
            D["LogStash 1"]
            E["Elasticsearch"]
            F["LogStash 2"]
            Linux
        end
    
        subgraph TitleStyle ["System Architecture"]
            direction TB
        end
    
        A --> B
        B --> C
        C --> D
        D --> E
        E --> F
        F --> F2
    
        style TitleStyle fill:#000000,stroke:#FFFFFF,color:#FFFFFF,font-size:18px,font-weight:bold
        style B fill:#FFF4D2,stroke:#FFB703,stroke-width:2px,rx:15,ry:15  %% CSV
        style A fill:#FFDDC1,stroke:#E2711D,stroke-width:2px,rx:20,ry:20  %% Crawling
        style C fill:#E9FFDB,stroke:#90BE6D,stroke-width:2px,rx:10,ry:10  %% FileBeat
        style D fill:#D2EFFF,stroke:#0077B6,stroke-width:2px,shape:rect  %% LogStash 1
        style E fill:#FFD6E8,stroke:#D72638,stroke-width:2px,shape:stadium  %% Elasticsearch
        style F fill:#D2EFFF,stroke:#0077B6,stroke-width:2px,shape:rect  %% LogStash 2

## ğŸ›¢ ë°ì´í„°ë² ì´ìŠ¤

- ìŠ¤í‚¤ë§ˆ
  
```sql
-- 1. í…Œì´ë¸” ìƒì„± (ì´ë¯¸ ì¡´ì¬í•˜ë©´ ì‚­ì œ í›„ ìƒˆë¡œ ìƒì„±)
DROP TABLE IF EXISTS data_status;

CREATE TABLE data_status (
    id INT AUTO_INCREMENT PRIMARY KEY, -- ê³ ìœ  ID (ìë™ ì¦ê°€)
    category VARCHAR(255) NOT NULL,    -- ì¢…ë¥˜ (ì˜ˆ: ì›ìì¬, ê¸ˆ)
    status VARCHAR(255) NOT NULL,      -- ê°’ (ì˜ˆ: ìƒìŠ¹, í•˜ë½)
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- ë°ì´í„° ì‚½ì… ì‹œê°„
);

-- 2. ê²°ê³¼ í™•ì¸ (ì„ íƒì : ë‚¨ì•„ ìˆëŠ” ë°ì´í„° í™•ì¸)
SELECT * FROM data_status;
```
- í…Œì´ë¸” êµ¬ì¡°
![image](https://github.com/user-attachments/assets/9b3d766b-81e0-46dd-a598-3bcd4a31d53e)


## ğŸ“Š ë°ì´í„°
</details>

ë„¤ì´ë²„ ë‰´ìŠ¤ HeadLine ê¸°ì‚¬ë“¤ë§Œ í¬ë¡¤ë§ â†’ ë°ì´í„° ì „ì²˜ë¦¬ [ì„¹ì…˜ ë²ˆí˜¸, ì œëª©, ë§í¬, ìš”ì•½, ì–¸ë¡ ì‚¬]
 
 #### âš  ë¬¸ì œ ë°œìƒ
 ì£¼ê°€ ì˜í–¥ì— ëŒ€í•œ ë¶€ë¶„ì€ ê°œì¸ì´ë‚˜ í˜„ì¬ì˜ ì¡°ê°€ ì„ì˜ë¡œ ì§€ì •í•  ìˆ˜ ì—†ìŒ
 â†’ Chat GPTë¥¼ ì´ìš©í•œ ê²€ìƒ‰ì„ í†µí•´ ì»¬ëŸ¼ ì¶”ê°€
 <br>
 [ì¢…ë¥˜ : ê¸ˆ,ì£¼ì‹,ì±„ê¶Œ,ì›ìì¬ / ê°’ : ìƒìŠ¹,í•˜ë½,ê´€ë ¨ ì—†ìŒ] â†’ CSV íŒŒì¼ë¡œ ì €ì¥
 
 <aside>
 
 ì„¹ì…˜ êµ¬ë¶„

 ```
 100 -> ì •ì¹˜
 101 -> ê²½ì œ
 102 -> ì‚¬íšŒ
 103 -> ìƒí™œ/ë¬¸í™”
 104 -> ì„¸ê³„
 105 -> IT/ê³¼í•™
 ```
 </aside>
 
<details>
   <summary> ğŸ—‚ï¸í¬ë¡¤ë§ ê³¼ì •ğŸ—‚ï¸ </summary>

   1. ë„¤ì´ë²„ ë‰´ìŠ¤ì˜ í•œ ê¸°ì‚¬ë§Œ í¬ë¡¤ë§ í•´ë³´ê¸°
            
            
            import requests
            from bs4 import BeautifulSoup
            
            # í¬ë¡¤ë§í•  ì›¹ì‚¬ì´íŠ¸ URL
            url = 'https://n.news.naver.com/mnews/article/421/0008034068'  # ì›í•˜ëŠ” ì‚¬ì´íŠ¸ì˜ URLë¡œ ë³€ê²½í•˜ì„¸ìš”.
            
            # ì›¹ í˜ì´ì§€ ìš”ì²­
            response = requests.get(url)
            
            # ì‘ë‹µ ì½”ë“œ í™•ì¸
            if response.status_code == 200:
                # ì›¹ í˜ì´ì§€ì˜ HTML ë‚´ìš© íŒŒì‹±
                soup = BeautifulSoup(response.text, 'html.parser')
            
                # <meta> íƒœê·¸ì—ì„œ og:title ì¶”ì¶œ
                meta_title = soup.find('meta', property='og:title')
                
                if meta_title:
                    # content ì†ì„± ì¶œë ¥
                    print(meta_title['content'])
                else:
                    print('og:title ë©”íƒ€ íƒœê·¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')
            else:
                print(f'ì›¹ í˜ì´ì§€ ìš”ì²­ ì‹¤íŒ¨: {response.status_code}')
            
            
            
        2. ì„¹ì…˜ì˜ ì „ì²´ í¬ë¡¤ë§í•˜ê¸°
            
            í˜ì´ì§€ì˜ HeadLine ê¸°ì‚¬ë“¤ì„ ë‚˜íƒ€ë‚´ëŠ” HTML íƒœê·¸ <li.sa_item._SECTION_HEADLINE> ë¥¼ ì°¾ì•„ì„œ í¬ë¡¤ë§í•˜ê¸°
            
            ```sql
            import requests
            from bs4 import BeautifulSoup
            import pandas as pd
            
            def get_news_articles(start_section_id, end_section_id, pages=1):
                """
                ë„¤ì´ë²„ ë‰´ìŠ¤ ì„¹ì…˜ì—ì„œ ê¸°ì‚¬ ì œëª©, ë§í¬ ë“±ì„ í¬ë¡¤ë§í•˜ëŠ” í•¨ìˆ˜ (100~105 ì„¹ì…˜ ë²”ìœ„)
                :param start_section_id: ì‹œì‘ ì„¹ì…˜ ID (ì˜ˆ: 100)
                :param end_section_id: ë ì„¹ì…˜ ID (ì˜ˆ: 105)
                :param pages: ê° ì„¹ì…˜ì—ì„œ ê°€ì ¸ì˜¬ í˜ì´ì§€ ìˆ˜
                :return: ëª¨ë“  ì„¹ì…˜ ê¸°ì‚¬ ë°ì´í„°í”„ë ˆì„
                """
                base_url = "https://news.naver.com/main/main.naver?mode=LSD&mid=shm&sid1="
                article_list = []
            
                for section_id in range(start_section_id, end_section_id + 1):
                    for page in range(1, pages + 1):
                        url = f"{base_url}{section_id}&page={page}"
                        headers = {
                            "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"
                        }
                        response = requests.get(url, headers=headers)
            
                        if response.status_code != 200:
                            print(f"í˜ì´ì§€ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {url}")
                            continue
            
                        soup = BeautifulSoup(response.text, 'html.parser')
            
                        # ê¸°ì‚¬ í¬ë¡¤ë§ (HTML êµ¬ì¡° ê¸°ë°˜)
                        articles = soup.select("li.sa_item._SECTION_HEADLINE")
                        for article in articles:
                            try:
                                title_tag = article.select_one("a.sa_text_title")
                                title = title_tag.get_text(strip=True) if title_tag else "ì œëª© ì—†ìŒ"
                                link = title_tag["href"] if title_tag and title_tag.has_attr("href") else "ë§í¬ ì—†ìŒ"
            
                                summary_tag = article.select_one("div.sa_text_lede")
                                summary = summary_tag.get_text(strip=True) if summary_tag else "ìš”ì•½ ì—†ìŒ"
            
                                press_tag = article.select_one("div.sa_text_press")
                                press = press_tag.get_text(strip=True) if press_tag else "ì–¸ë¡ ì‚¬ ì—†ìŒ"
            
                                article_list.append({
                                    "ì„¹ì…˜ ë²ˆí˜¸": section_id,
                                    "ì œëª©": title,
                                    "ë§í¬": link,
                                    "ìš”ì•½": summary,
                                    "ì–¸ë¡ ì‚¬": press
                                })
                            except Exception as e:
                                print(f"í¬ë¡¤ë§ ì¤‘ ì˜¤ë¥˜ ë°œìƒ (ì„¹ì…˜ {section_id}): {e}")
            
                return pd.DataFrame(article_list)
            
            # ì„¹ì…˜ ID ë²”ìœ„ ì„¤ì • ë° í¬ë¡¤ë§ ì‹¤í–‰
            start_section_id = 100  # ì‹œì‘ ì„¹ì…˜ ë²ˆí˜¸
            end_section_id = 105  # ë ì„¹ì…˜ ë²ˆí˜¸
            pages = 2  # ê° ì„¹ì…˜ì—ì„œ ê°€ì ¸ì˜¬ í˜ì´ì§€ ìˆ˜
            
            # í¬ë¡¤ë§ ì‹¤í–‰
            articles = get_news_articles(start_section_id, end_section_id, pages)
            
            # ê²°ê³¼ í™•ì¸ ë° ì €ì¥
            print(articles.head())
            articles.to_csv("news_section_100_to_105.csv", index=False, encoding="utf-8-sig")
            
            # Colabì—ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
            from google.colab import files
            files.download("news_section_100_to_105.csv")
            
            ```
            
           ![image 4](https://github.com/user-attachments/assets/d5514e06-fb51-4626-be26-64b1324eee46)

            í¬ë¡¤ë§ ì‚¬ì´íŠ¸ : https://news.naver.com/
</aside>

## ğŸ“ˆ Kibana ì‹œê°í™”

- ì¢…ëª©ë³„ìƒìŠ¹í•˜ë½ë¹„ìœ¨
![image](https://github.com/user-attachments/assets/e5819b23-24a8-470b-8a31-1f48d1038d82)

- ë¶„ì•¼ë³„ ETF ì˜í–¥
![image](https://github.com/user-attachments/assets/41d6376c-4db3-44f7-970a-12cc08b49c47)


 ## ğŸ“ **í‚¤í¬ì¸íŠ¸ ìš”ì•½**
     
1. **ë‰´ìŠ¤ ë°ì´í„°ì˜ ì£¼ìš” ì‚¬ìš© ëª©ì **:
  - **ì‹¤ì‹œê°„ ê²€ìƒ‰ê³¼ ë¶„ì„**ì´ ì¤‘ìš”í•˜ë‹¤ë©´ **ElasticSearchë¥¼ ë©”ì¸ ì €ì¥ì†Œ**ë¡œ.
2. **ë°ì´í„° êµ¬ì¡°**:
  - ë¹„ì •í˜• ë°ì´í„°(ê¸°ì‚¬ ë³¸ë¬¸ ì¤‘ì‹¬) â†’ ElasticSearch.
  - ì •í˜• ë°ì´í„°(ê´€ê³„í˜• ëª¨ë¸ë¡œ ê´€ë¦¬ ê°€ëŠ¥í•œ ë°ì´í„°) â†’ RDBMS.
3. **ë°ì´í„° í¬ê¸°**:
  - **ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ë° ê³ ì† ê²€ìƒ‰** â†’ ElasticSearch.
  - **ì†Œê·œëª¨ ë°ì´í„° ì •ë¦¬ ë° ê´€ë¦¬** â†’ RDBMS.


    
## Key Points

- ### ğŸ“Œ ElasticSearch ë©”ì¸, RDBMS ì´ê´€
        
     
     
     - ì‹¤ì‹œê°„ ê²€ìƒ‰ ë° ë¹ ë¥¸ ë°ì´í„° ì ‘ê·¼ì´ ì¤‘ìš”í•œ ê²½ìš°.
     - ì¥ê¸° ë°ì´í„° ë³´ê´€ìš©ìœ¼ë¡œ RDBMSë¥¼ ì‚¬ìš©.
     
     **êµ¬ì„±**
     
     1. ES:
         - ë‰´ìŠ¤ ë°ì´í„°ë¥¼ **ë°”ë¡œ ì¸ë±ì‹±**í•˜ì—¬ ë¹ ë¥¸ ê²€ìƒ‰ê³¼ ë¶„ì„ì„ ì œê³µ.
         - ê¸°ì‚¬ ë³¸ë¬¸ì„ ë¹„ì •í˜• ë°ì´í„°ë¡œ ì €ì¥í•˜ê³ , ì‹¤ì‹œê°„ ê²€ìƒ‰ ë° í‚¤ì›Œë“œ ì¶”ì¶œì— í™œìš©.
         - ì¸ë±ìŠ¤ ì„¤ê³„ ì˜ˆ:
             
             ```json
             {
                 "title": "ETF ì‹œì¥ ê¸‰ë“±, íˆ¬ìì ê´€ì‹¬ ì§‘ì¤‘",
                 "content": "ì½”ìŠ¤í”¼200 ETFê°€ ì‹œì¥ì—ì„œ ì£¼ëª©ë°›ê³  ìˆë‹¤...",
                 "url": "https://example.com/news123",
                 "date": "2025-01-21T10:00:00",
                 "etf_category": "ì½”ìŠ¤í”¼200"
             }
             
             ```
             
     2. RDBMS:
         - ì¼ì • ì‹œê°„ì´ ì§€ë‚œ ë°ì´í„°ë¥¼ **ì¥ê¸° ë³´ê´€ìš©**ìœ¼ë¡œ ì´ê´€.
         - ë°ì´í„° ì•„ì¹´ì´ë¹™ì´ë‚˜ ì •ë¦¬ëœ í†µê³„ ë¶„ì„ì— ì‚¬ìš©.
     
      **ì í•©í•œ ì´ìœ **
     
     - **ElasticSearch**:
         - ëŒ€ìš©ëŸ‰ ë¹„ì •í˜• ë°ì´í„°(ë‰´ìŠ¤ ê¸°ì‚¬ ë³¸ë¬¸)ì˜ ë¹ ë¥¸ ê²€ìƒ‰ ë° í•„í„°ë§.
         - ETF ë™í–¥ ë¶„ì„ì—ì„œ ê³ ì†csìœ¼ë¡œ ì‹œê°í™” ê²°ê³¼ë¥¼ ìƒì„±.
     - **RDBMS**:
         - ì˜¤ë˜ëœ ë°ì´í„°ë¥¼ êµ¬ì¡°í™”í•˜ì—¬ ë³´ê´€ ë° ì´ê´€ í›„ì˜ ë°ì´í„° ì •ë¦¬ë¥¼ ìˆ˜í–‰.
     
      **ì í•©í•œ ì‚¬ìš© [í”„ë¡œì íŠ¸ì—ì„œ ë³´ì—¬ì§€ëŠ”]**
     
     - ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œì—ì„œ íŠ¹ì • ETF ì¹´í…Œê³ ë¦¬ ê´€ë ¨ ê¸°ì‚¬ë¥¼ ë¹ ë¥´ê²Œ í•„í„°ë§.
     - ê³¼ê±° ë°ì´í„°ë¥¼ RDBMSì—ì„œ ë³´ê´€í•˜ë©° ì›”ë³„/ë¶„ê¸°ë³„ í†µê³„ ë³´ê³ ì„œ ìƒì„±.

       

- ### ğŸ“Œ Logstash 2ê°œ
     
     **ì¥ì **
     
     1. **ì›Œí¬ë¡œë“œ ë¶„ë¦¬**:
         - í•˜ë‚˜ì˜ LogstashëŠ” ë°ì´í„° ìˆ˜ì§‘ê³¼ ì „ì²˜ë¦¬ì— ì§‘ì¤‘í•˜ê³ , ë‹¤ë¥¸ LogstashëŠ” Elasticsearchì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ ì§‘ê³„ ë° í›„ì²˜ë¦¬ì— ì§‘ì¤‘í•©ë‹ˆë‹¤.
         - ì´ëŸ¬í•œ ë¶„ë¦¬ëŠ” ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ë©° ë°ì´í„° ì²˜ë¦¬ ì†ë„ë¥¼ ë†’ì…ë‹ˆë‹¤.
     2. **ìœ ì—°ì„± ê°•í™”**:
         - ê°ê°ì˜ Logstashê°€ ë…ë¦½ëœ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ì‘ë™í•˜ì—¬ íŠ¹ì • ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ë°ì´í„° ì²˜ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
         - ì˜ˆë¥¼ ë“¤ì–´, Logstash 1ì€ ì‹¤ì‹œê°„ ë°ì´í„° ì „ì²˜ë¦¬ì— ì´ˆì ì„ ë§ì¶”ê³ , Logstash 2ëŠ” Elasticsearchì˜ ì§‘ê³„ ë°ì´í„°ë¥¼ MySQLë¡œ ì „ì†¡í•˜ëŠ” ë° ì´ˆì ì„ ë§ì¶œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
     3. **ì•ˆì •ì„± í–¥ìƒ**:
         - í•˜ë‚˜ì˜ Logstashì—ì„œ ì¥ì• ê°€ ë°œìƒí•´ë„ ë‹¤ë¥¸ LogstashëŠ” ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•˜ì—¬ ì „ì²´ ì‹œìŠ¤í…œ ê°€ìš©ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.
         - íŠ¹ì • Logstashê°€ ê³¼ë¶€í•˜ë¥¼ ë°›ì§€ ì•Šë„ë¡ ì—­í• ì„ ë¶„ë¦¬í•˜ì—¬ ì‹œìŠ¤í…œ ì•ˆì •ì„±ì„ ë†’ì…ë‹ˆë‹¤.
     4. **í™•ì¥ì„±**:
         - ë°ì´í„° ì²˜ë¦¬ëŸ‰ì´ ì¦ê°€í•  ê²½ìš°, ì¶”ê°€ Logstashë¥¼ ë„ì…í•´ íŠ¹ì • ì‘ì—…(ì˜ˆ: ë°ì´í„° í•„í„°ë§, ì¶”ê°€ ì €ì¥ì†Œì™€ì˜ í†µí•©)ì„ ì‰½ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
     
     
     **ë‹¨ì **
     
     1. **ê´€ë¦¬ ë³µì¡ì„± ì¦ê°€**:
         - Logstash 2ê°œë¥¼ ìš´ì˜í•˜ë©´ ì„¤ì • ë° ìœ ì§€ë³´ìˆ˜ê°€ ë” ë³µì¡í•´ì§‘ë‹ˆë‹¤. ê° Logstashì˜ íŒŒì´í”„ë¼ì¸ ë° ë™ì‘ì„ ì„¸ë°€íˆ ê´€ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.
     2. **ë¦¬ì†ŒìŠ¤ ì†Œëª¨ ì¦ê°€**:
         - LogstashëŠ” ìƒëŒ€ì ìœ¼ë¡œ ë†’ì€ CPU ë° ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ê°€ì§€ë¯€ë¡œ, ì¸ìŠ¤í„´ìŠ¤ë¥¼ 2ê°œë¡œ ëŠ˜ë¦´ ê²½ìš° ì„œë²„ ë¦¬ì†ŒìŠ¤ ë¶€ë‹´ì´ ì¦ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
     3. **ë™ê¸°í™” ë¬¸ì œ**:
         - ë‘ Logstashê°€ ë™ì¼í•œ Elasticsearchì™€ ìƒí˜¸ì‘ìš©í•  ê²½ìš° ë°ì´í„° ì¶©ëŒ ë˜ëŠ” ë™ê¸°í™” ë¬¸ì œë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ ì¡°ì •ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


--------------------------------------------------------------------------------------------------



# ğŸš€ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
  <details>
  <summary> ì¸ë±ìŠ¤ ì´ë¦„ : ëŒ€ë¬¸ì ë¶ˆê°€ ì˜¤ë¥˜ ë°œìƒ </summary>

```sql
Successfully started Logstash API endpoint {:port=>9600}
C:/02.devenv/ELK/logstash-7.11.1/vendor/bundle/jruby/2.5.0/gems/rufus-scheduler-3.0.9/lib/rufus/scheduler/cronline.rb:77: warning: constant ::Fixnum is deprecated
[2025-01-21T14:42:01,985][INFO ][logstash.inputs.jdbc     ][main][6d4aeb4cd79e7f4c0f50afe35f6d7ad8a963fbf373d6c987fb9b705bc46d85ca] (0.040607s) SELECT * FROM users
[2025-01-21T14:42:02,454][ERROR][logstash.outputs.elasticsearch][main][6582090182203f038cf99cd5d36f9dd357e61d1c1f01d3e4debb937dd404b023] Could not index event to Elasticsearch. {:status=>400, :action=>["index", {:_id=>nil, :_index=>"ETFnews", :routing=>nil, :_type=>"_doc"}, #LogStash::Event:0x6147c224], :response=>{"index"=>{"_index"=>"ETFnews", "_type"=>"_doc", "_id"=>nil, "status"=>400, "error"=>{"type"=>"invalid_index_name_exception", "reason"=>"Invalid index name [ETFnews], must be lowercase", "index_uuid"=>"na", "index"=>"ETFnews"}}}}
[2025-01-21T14:42:02,461][ERROR][logstash.outputs.elasticsearch][main][6582090182203f038cf99cd5d36f9dd357e61d1c1f01d3e4debb937dd404b023] Could not index event to Elasticsearch. {:status=>400, :action=>["index", {:_id=>nil, :_index=>"ETFnews", :routing=>nil, :_type=>"_doc"}, #LogStash::Event:0x7c4775fd], :response=>{"index"=>{"_index"=>"ETFnews", "_type"=>"_doc", "_id"=>nil, "status"=>400, "error"=>{"type"=>"invalid_index_name_exception", "reason"=>"Invalid index name [ETFnews], must be lowercase", "index_uuid"=>"na", "index"=>"ETFnews"}}}}
[2025-01-21T14:42:02,461][ERROR][logstash.outputs.elasticsearch][main][6582090182203f038cf99cd5d36f9dd357e61d1c1f01d3e4debb937dd404b023] Could not index event to Elasticsearch. {:status=>400, :action=>["index", {:_id=>nil, :_index=>"ETFnews", :routing=>nil, :_type=>"_doc"}, #LogStash::Event:0x3757b92], :response=>{"index"=>{"_index"=>"ETFnews", "_type"=>"_doc", "_id"=>nil, "status"=>400, "error"=>{"type"=>"invalid_index_name_exception", "reason"=>"Invalid index name [ETFnews], must be lowercase", "index_uuid"=>"na", "index"=>"ETFnews"}}}}
[2025-01-21T14:43:00,095][INFO ][logstash.inputs.jdbc     ][main][6d4aeb4cd79e7f4c0f50afe35f6d7ad8a963fbf373d6c987fb9b705bc46d85ca] (0.002554s) SELECT * FROM users
[2025-01-21T14:43:00,224][ERROR][logstash.outputs.elasticsearch][main][6582090182203f038cf99cd5d36f9dd357e61d1c1f01d3e4debb937dd404b023] Could not index event to Elasticsearch. {:status=>400, :action=>["index", {:_id=>nil, :_index=>"ETFnews", :routing=>nil, :_type=>"_doc"}, #LogStash::Event:0x4ea59bdb], :response=>{"index"=>{"_index"=>"ETFnews", "_type"=>"_doc", "_id"=>nil, "status"=>400, "error"=>{"type"=>"invalid_index_name_exception", "reason"=>"Invalid index name [ETFnews], must be lowercase", "index_uuid"=>"na", "index"=>"ETFnews"}}}}
```

Logstash ì‹¤í–‰ ì‹œ ì¸ë±ìŠ¤ ì°¾ì„ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ ë°œìƒ 

"Invalid index name [ETFnews], must be lowercaseâ€

ì¸ë±ìŠ¤ ì´ë¦„ì´ ëŒ€ë¬¸ìì—¬ì„œ ëª…ëª…ê·œì¹™ ìœ„ë°˜
  </details>
  
---

   <details>
  <summary> ìŠ¤ì¼€ì¥´ë§ </summary>
  1ë¶„ë§ˆë‹¤ í˜„ì¬ ì‹œê°„ê³¼ ë¹„êµ ë° ì‚½ì… â†’  ìë™ ìŠ¤ì¼€ì¥´ë§ ì‹œê°„ê³¼ ë™ì¼ì‹œ í•´ì¤˜ì•¼ í•˜ëŠ” ë¬¸ì œ ë°œìƒ
â†’ 1ë¶„ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤ì¼€ì¤„ë§ ì½”ë“œ ì¶”ê°€
      
      input {
     elasticsearch {
       hosts => ["http://localhost:9200"]
       index => "news"
       query => '{
         "query": {
           "range": {
             "@timestamp": {
               "gt": "now-1m",
               "lte": "now"
             }
           }
         }
       }'
       schedule => "*/1 * * * *"
     }

  </details>
  
  ---
  
   <details>
  <summary> DB ì €ì¥ì—ì„œì˜ ì¤‘ë³µ ì €ì¥ ë¬¸ì œ </summary>

   ë°ì´í„°ê°€ ESì—ì„œ ë°›ì•„ì˜¤ëŠ” ê·¸ëŒ€ë¡œ ì €ì¥ â†’ ê·¸ ì´ì „ì— ì´ë¯¸ ì €ì¥ë˜ì—ˆë˜ ì •ë³´ë“¤ì´ ì¤‘ë³µí•´ì„œ ì €ì¥ë¨

   inputì„ ë³€ê²½í•´ì„œ, timestampë¥¼ í™œìš©í•˜ì—¬ ë¹„êµë¥¼ í†µí•´ ì´ì „ì— ì‚½ì…ë˜ì—ˆë˜ ì •ë³´ë“¤ì€ ì œì™¸í•˜ê³  ì‚½ì…í•˜ê¸°

```
   # ìˆ˜ì • ì „
input {
  elasticsearch {
    hosts => ["http://localhost:9200"]
    index => "news"
    query => '{
      "query": {
        "range": {
          "@timestamp": {
            "gt": "now-1m/m"
          }
        }
      }
    }'
  }
}

# ìˆ˜ì • í›„
input {
  elasticsearch {
    hosts => ["http://localhost:9200"]
    index => "news"
    query => '{
      "query": {
        "range": {
          "@timestamp": {
            "gt": "now-1m/m"
          }
        }
      }
    }'
  }
}
```
  </details>
  
---

  <details>
  <summary> Logstash JDK ì¸ì‹ ë¬¸ì œ </summary>

   JDKë¥¼ ìì²´ì ìœ¼ë¡œ ë³´ìœ í•˜ê³  ìˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” í˜„ìƒ ë°œìƒ

```markdown
set JAVA_HOME="C:\02.devEnv\ELK\logstash-7.11.1\jdk"
setx PATH "%PATH%;%JAVA_HOME%\bin"
```

ê°•ì œì ìœ¼ë¡œ ì¸ì‹ì‹œì¼œì£¼ê¸° í›„, ì‹¤í–‰ ì„±ê³µ
  
  </details>
  
---

  <details>
  <summary> ESì™€ DBì—°ê²° ë¬¸ì œ </summary>
     - ì—°ê²° ë¬¸ì œ í™•ì¸
     - Logstash[outputìš©]ì˜ Es ë°ì´í„° ìˆ˜ì‹  í™•ì¸ì„ ìœ„í•œ txt íŒŒì¼ ë„ì¶œ
      
   [ë©”ëª¨ì¥ì— ë„£ê¸° ](https://www.notion.so/4f590a11c2d744a4aebe4ef422b3e202?pvs=21)
      
   ![image 1](https://github.com/user-attachments/assets/60cdb3c5-ec38-4a3d-9d51-783315ce6eaa)

      
  - Logstash[outputìš©]ì˜ Es ë™ì  ì›€ì§ì„ ê°ì§€ í…ŒìŠ¤íŠ¸
      
      ìœ„ì˜ txt íŒŒì¼ ë„ì¶œì„ ì‚¬ìš©í•´ì„œ filebeatì—ì„œ ê°ì§€í•œ ë°ì´í„°ì˜ ë³€í˜•ì´ ë°˜ì˜ë˜ëŠ”ì§€ë¥¼ í™•ì¸í•˜ê¸° (ë™ì  ê°ì§€ í™•ì¸ì„ ìœ„í•´ filter ë¶€ë¶„ ì œì™¸)
      
      ```json
      input {
        elasticsearch {
          hosts => ["http://localhost:9200"]
          index => "news"
          query => '{ "query": { "match_all": {} } }'
          docinfo => true
        }
      }
      output {
        file {
          path => "C:/02.devEnv/ELK/logstash_output.txt"  # ì €ì¥í•  íŒŒì¼ ê²½ë¡œ
          codec => line { format => "%{type}, %{value}" }  # ê° í•„ë“œë¥¼ ì›í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ì €ì¥
        }
      }
      ```
      
      ![image 2](https://github.com/user-attachments/assets/037d02b2-bbf2-4933-9776-077bc449a472)

      
  - Logstash[outputìš©]ê³¼ Mysqlì˜ ì—°ê²° ë¶€ë¶„ ë¬¸ì œ í…ŒìŠ¤íŠ¸
      
      Windowì— Mysql ì„¤ì¹˜í•˜ì—¬ window â†’ Linux â†’ mysql ì´ ì•„ë‹ˆë¼ window OSì˜ ë™ì¼ ì„ ìƒì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í…ŒìŠ¤íŠ¸
      
  - Logstash[outputìš©]ì˜ conf íŒŒì¼ì˜ ì„¤ì • ë¬¸ì œ í…ŒìŠ¤íŠ¸
      
      JDBC Driver Encoding ë°©ì‹ì˜ ì¶©ëŒ : UTF-8
      
      íŒŒì¼ì˜ enconding ë°©ì‹ì„ ê°•ì œì ìœ¼ë¡œ íŒŒì¼ì— ëª…ì‹œí•˜ì˜€ì§€ë§Œ, ì‹¤íŒ¨
      
      JDBC Driverì—ì„œì˜ [statement] ë³€ê²½, ì‹¤íŒ¨
      
      conf íŒŒì¼ì˜ filter ë¶€ë¶„ ì‚­ì œ, ì—°ê²° ì„±ê³µ
      
      â†’ ì¤‘ë³µì„ ì‚­ì œí•˜ê¸° ìœ„í•´ì„œ filter êµ¬ì„± ë‹¤ì‹œí•˜ê¸°
  </details>
  
  ------------
  
  <details>
    <summary> JDBC Driver </summary>
      
  - ì„¤ì¹˜ ë¬¸ì œ

     - **ì˜¤ë¥˜ ë‚´ìš©: `logstash-output-jdbc` í”ŒëŸ¬ê·¸ì¸ ê´€ë ¨ ì˜¤ë¥˜**
      
     - **ì‹¤ì œ ì˜¤ë¥˜ ì½”ë“œ**:
                    
                    
       
                    [2025-01-21T18:16:15,891][ERROR][logstash.plugins.registry] Tried to load a plugin's code, but failed. {:exception=>#<LoadError: no such file to load -- logstash/outputs/jdbc>, :path=>"logstash/outputs/jdbc", :type=>"output", :name=>"jdbc"}
                    [2025-01-21T18:16:15,903][FATAL][logstash.runner] The given configuration is invalid. Reason: Unable to configure plugins: (PluginLoadingError) Couldn't find any output plugin named 'jdbc'.
                    
  



   **í•´ê²° ë°©ë²•**:
  - `logstash-output-jdbc` í”ŒëŸ¬ê·¸ì¸ ì¬ì„¤ì¹˜ ëª…ë ¹ ì‹¤í–‰:
                                
                            
    
        logstash-plugin install logstash-output-jdbc
                                
                        
     </details>        
     
     ---
    
    <details>
        <summary>  
                ì˜¤ë¥˜ ë‚´ìš©: JDK ì¸ì‹ ì‹¤íŒ¨ ë¬¸ì œ
        </summary>
                    
     ê°•ì œì ìœ¼ë¡œ í•œë²ˆ ë” ì¸ì‹ ì‹œì¼œì£¼ê¸°
                    
                
                    set JAVA_HOME=C:\02.devEnv\ELK\logstash2-7.11.1\jdk
                    set PATH=%JAVA_HOME%\bin;%PATH%
                    logstash-plugin install logstash-output-jdbc


</details>
                

----

# ğŸ¤” íšŒê³ 

- ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ì—¬ëŸ¬ ìŠ¤íƒê°„ì˜ ìœ ê¸°ì ì¸ í™œìš©ì„ ì‹¤ìŠµí•´ ë³¼ ìˆ˜ ìˆì–´ì„œ ì¢‹ì•˜ìŠµë‹ˆë‹¤.
- ê·¸ë¦¼ìœ¼ë¡œë§Œ ë³´ë˜ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ëŠ” ê²½í—˜ì„ í•˜ê²Œ ë˜ì–´ ì´í•´í•˜ëŠ”ë° í° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.
- ì§§ì€ í”„ë¡œì íŠ¸ ê¸°ê°„ìœ¼ë¡œ ì¸í•´ì„œ ì²˜ìŒì— ê³„íší–ˆì—ˆë˜ ì‹¤ì‹œê°„ í¬ë¡¤ë§ ê¸°ëŠ¥ê³¼, êµ¬ì²´ì ì¸ ì‹œê°í™” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì§€ ëª»í•´ ì•„ì‰½ìŠµë‹ˆë‹¤.

Special Thanks to ê¹€ìš°í˜„
